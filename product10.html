<!DOCTYPE html>
<html lang="es" data-bs-theme="auto">

<head>
  <link rel="icon" href="img/Fisestoplogo.png" type="image/x-icon">
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZHFYSC9VXM"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-ZHFYSC9VXM');
  </script>

  <title>Productos en Venta</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

  <style>
    .navbar {
      position: fixed;
      width: 100%;
      z-index: 1000000;
      top: 0;
    }

    #producto {
      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: center;
    }

    .product-image {
      margin-right: 20px;
    }

    .product-details {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: flex-start;
    }

    #product-name {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 10px;
    }

    #product-description {
      font-size: 16px;
      margin-bottom: 10px;
    }

    #product-price {
      font-size: 20px;
      font-weight: bold;
    }

    .rating {
      unicode-bidi: bidi-override;
      direction: rtl;
      text-align: center;
      font-size: 24px;
    }

    .rating>i {
      margin: 0 5px;
      cursor: pointer;
    }

    .rating>i:hover,
    .rating>i:hover~i {
      color: gold;
    }

    .comment {
      margin-bottom: 15px;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
    }

    .divider {
      width: 100%;
      height: 1.5rem;
      background-color: rgba(0, 0, 0, .1);
      border: solid rgba(0, 0, 0, .15);
      border-width: 1px 0;
      box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);
    }
  </style>
</head>

<header>
  <nav class="navbar navbar-expand-lg bg-body-tertiary">
    <div class="container-fluid">
      <a class="navbar-brand" href="index.html"><img src="img/Fisestoplogo.png" height="40px"
          alt="Logo oficial de FiesTop" title="Logo oficial de FiesTop"> </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="index.html">Inicio</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="Catalogo.html">Todos los productos</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Quienes somos:
            </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item">FiesTop es una empresa centrada en la organizacion de
                  eventos sociales <br> de cualquier indole desde fiestas de cumpleaños hasta
                  fiestas de XV años y bodas <br> el limite es su imaginación, nosotros le daremos
                  las herramientas necesarias <br> para que organice su fiesta ideal en tiempo y
                  forma</a></li>
              <li><a class="dropdown-item" href="#"></a></li>
              <li>
                <hr class="dropdown-divider">
              </li>
              <li><a class="dropdown-item" href="#"></a></li>
            </ul>
          </li>

          <!-- Carrito -->
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="carrito.html">Carrito</a>
          </li>

          <!-- Lista de deseos -->
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="wishlist.html">Lista de deseos</a>
          </li>

        </ul>

        <form class="d-flex" action="Resultados.html" method="GET">
          <input class="form-control me-2" type="search" placeholder="Buscar..." aria-label="Search" name="query">
          <button class="btn btn-outline-success" type="submit">Buscar</button>
        </form>

        <!-- Sección de inicio de sesión -->
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="Login.html">Iniciar sesión</a>
          </li>
        </ul>

        <!-- Sección para ver el perfil del usuario (puedes ajustar el enlace según tus necesidades) -->
        <a class="navbar-brand" href="Login.html">
          <img src="img/LogoU.png" height="40px" alt="Logo oficial de FiesTop" title="Perfil de usuario">
        </a>

      </div>
    </div>
  </nav>
</header>

<body>
  <div class="container">
    <div id="producto" class="product-container">
      <div class="product-image">
        <img id="product-image" src="" alt="">
      </div>
      <div class="product-details">
        <h1 id="product-name"></h1>
        <p id="product-description"></p>
        <p id="product-price"></p>
        <p id="product-sizes"></p>
        <p id="product-colors"></p>
        <p id="product-materials"></p>
        <p id="product-brand"></p>
        <button type="button" class="btn btn-primary" onclick="addToCart()">Agregar al carrito</button><br>

        <!-- Stripe -->
        <script async src="https://js.stripe.com/v3/buy-button.js">
        </script>

        <stripe-buy-button buy-button-id="buy_btn_1OJdNDFRT6NzCn7Qxkb27Y4h"
          publishable-key="pk_test_51OGoVKFRT6NzCn7QmatQ3iGjFJjNhdmfHtY1AUj1Agw2luAJsFgR3GorSvaM4dBjg3GIVCcL2418zdbqesmvyXWN00jBnLGooI">
        </stripe-buy-button>
        <!-- End of Stripe -->

        <p id="cart-message"></p>
        <div>
          <h2>Calificación del Producto</h2>

          <!-- Sección de calificación -->
          <div class="rating" id="productRating" style="color: blueviolet;">
            <i class="far fa-star" data-rating="5"></i>
            <i class="far fa-star" data-rating="4"></i>
            <i class="far fa-star" data-rating="3"></i>
            <i class="far fa-star" data-rating="2"></i>
            <i class="far fa-star" data-rating="1"></i>
          </div>

          <p id="ratingMessage"></p>
        </div>
      </div>
    </div>
    <div id="comment-section">
      <h2>Sección de Comentarios</h2>

      <!-- Formulario para agregar comentarios -->
      <form id="comment-form">
        <label for="name">Nombre:</label>
        <input type="text" id="name" required><br>

        <label for="comment">Comentario:</label><br>
        <textarea id="comment" rows="4" cols="100" required></textarea><br>

        <button type="button" onclick="addComment()">Agregar Comentario</button>
        <button type="button" onclick="clearComments()">Limpiar Comentarios</button>
      </form>

      <!-- Lista de comentarios -->
      <div id="comment-list"></div>

    </div>
  </div>


  <script>
    function addToCart() {
      const productName = document.getElementById('product-name').textContent;
      const productPrice = document.getElementById('product-price').textContent;

      const cartMessage = document.getElementById('cart-message');
      cartMessage.textContent = `¡${productName} ha sido agregado al carrito de compras por ${productPrice}!`;
    }

    document.addEventListener("DOMContentLoaded", function () {
      fetch('json/producto10.json')
        .then(response => response.json())
        .then(data => {
          const productName = document.getElementById('product-name');
          const productImage = document.getElementById('product-image');
          const productDescription = document.getElementById('product-description');
          const productPrice = document.getElementById('product-price');
          const productSizes = document.getElementById('product-sizes');
          const productColors = document.getElementById('product-colors');
          const productMaterials = document.getElementById('product-materials');
          const productBrand = document.getElementById('product-brand');

          productName.textContent = data.nombre;
          productImage.src = data.imagen;
          productImage.alt = data.nombre;
          productDescription.textContent = data.descripcion_larga;
          productPrice.textContent = `Precio: $${data.precio}`;
          productSizes.textContent = `Tallas disponibles: ${data.tallas.join(", ")}`;
          productColors.textContent = `Colores disponibles: ${data.colores.join(", ")}`;
          productMaterials.textContent = `Materiales: ${data.materiales.join(", ")}`;
          productBrand.textContent = `Marca: ${data.marca}`;
        })
        .catch(error => {
          console.error('Error:', error);
        });
      // Cargar calificación al cargar la página
      loadRating();

      // Cargar comentarios al cargar la página
      loadComments();
    });
    const ratingStars = document.querySelectorAll('#productRating i');
    const ratingMessage = document.getElementById('ratingMessage');

    ratingStars.forEach(star => {
      star.addEventListener('click', () => {
        const rating = star.getAttribute('data-rating');
        updateRating(rating);
        ratingMessage.textContent = `La calificación es de: ${rating} estrellas`;

        // Guardar la calificación en el almacenamiento local
        localStorage.setItem('rating', rating);
      });
    });

    function updateRating(rating) {
      ratingStars.forEach(star => {
        const starRating = star.getAttribute('data-rating');
        if (starRating <= rating) {
          star.classList.remove('far');
          star.classList.add('fas');
        } else {
          star.classList.remove('fas');
          star.classList.add('far');
        }
      });
    }

    // Función para cargar la calificación desde el almacenamiento local
    function loadRating() {
      const savedRating = localStorage.getItem('rating');
      if (savedRating) {
        updateRating(savedRating);
        ratingMessage.textContent = `La calificación es de: ${savedRating} estrellas`;
      }
    }

    // Función para agregar comentarios
    function addComment() {
      var name = document.getElementById('name').value;
      var commentText = document.getElementById('comment').value;

      if (name && commentText) {
        var commentList = document.getElementById('comment-list');
        var commentDiv = document.createElement('div');
        commentDiv.className = 'comment';
        commentDiv.innerHTML = '<strong>' + name + ':</strong> ' + commentText;
        commentList.appendChild(commentDiv);

        // Guardar comentario y calificación en el almacenamiento local
        saveComment({ name, text: commentText, rating: localStorage.getItem('rating') });

        // Limpiar el formulario
        document.getElementById('name').value = '';
        document.getElementById('comment').value = '';
      } else {
        alert('Por favor, complete todos los campos.');
      }
    }

    // Función para guardar comentarios y calificaciones en el almacenamiento local
    function saveComment(comment) {
      const savedComments = JSON.parse(localStorage.getItem('comments')) || [];
      savedComments.push(comment);
      localStorage.setItem('comments', JSON.stringify(savedComments));
    }

    // Función para cargar comentarios desde el almacenamiento local
    function loadComments() {
      const savedComments = JSON.parse(localStorage.getItem('comments')) || [];
      const commentList = document.getElementById('comment-list');

      savedComments.forEach(comment => {
        var commentDiv = document.createElement('div');
        commentDiv.className = 'comment';
        commentDiv.innerHTML = '<strong>' + comment.name + ':</strong> ' + comment.text;
        commentList.appendChild(commentDiv);
      });
    }
  </script>
  <script>
    function addComment() {
      var name = document.getElementById('name').value;
      var commentText = document.getElementById('comment').value;

      if (name && commentText) {
        var commentList = document.getElementById('comment-list');
        var commentDiv = document.createElement('div');
        commentDiv.className = 'comment';
        commentDiv.innerHTML = `<strong>${name}:</strong> ${commentText} (${localStorage.getItem('rating')} estrellas)`;
        commentList.appendChild(commentDiv);

        // Guardar comentario y calificación en el almacenamiento local
        saveComment({ name, text: commentText, rating: localStorage.getItem('rating') });

        // Limpiar el formulario
        document.getElementById('name').value = '';
        document.getElementById('comment').value = '';
      } else {
        alert('Por favor, complete todos los campos.');
      }
    }

    // Función para guardar comentarios y calificaciones en el almacenamiento local
    function saveComment(comment) {
      const savedComments = JSON.parse(localStorage.getItem('comments')) || [];
      savedComments.push(comment);
      localStorage.setItem('comments', JSON.stringify(savedComments));
    }

    // Función para cargar comentarios desde el almacenamiento local
    function loadComments() {
      const savedComments = JSON.parse(localStorage.getItem('comments')) || [];
      const commentList = document.getElementById('comment-list');

      savedComments.forEach(comment => {
        var commentDiv = document.createElement('div');
        commentDiv.className = 'comment';
        commentDiv.innerHTML = '<strong>' + comment.name + ':</strong> ' + comment.text;
        commentList.appendChild(commentDiv);
      });
    }
    function clearComments() {
      localStorage.removeItem('comments');
      document.getElementById('comment-list').innerHTML = ''; // Limpiar la lista de comentarios en la interfaz
    }
  </script>
  <br>
  <!-- Footer Contact-->
  <div class="divider"></div>
  <div class="container">
    <footer class="py-5">
      <div class="row">
        <div class="col-6 col-md-2 mb-3">
          <h5>Links</h5>
          <ul class="nav flex-column">
            <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">Inicio</a>
            </li>
            <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">Productos</a>
            </li>
            <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">Lista de
                Deseos</a>
            </li>
            <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">Carrito</a>
            </li>
            <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">Perfil</a>
            </li>
          </ul>
        </div>

        <div class="col-6 col-md-2 mb-3">
          <h5>Sobre FiesTop</h5>
          <ul class="nav flex-column">
            <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">Quiénes
                somos</a></li>
            <li class="nav-item mb-2"><a href="FAQs.html" class="nav-link p-0 text-body-secondary">FAQs</a></li>
          </ul>
        </div>

        <div class="col-md-5 offset-md-1 mb-3">
          <form>
            <h5>¿Quieres contactarnos?</h5>
            <p>Escribe tu correo y nos pondremos en contacto contigo cuanto antes :)</p>
            <div class="d-flex flex-column flex-sm-row w-100 gap-2">
              <label for="newsletter1" class="visually-hidden">Correo electrónico</label>
              <input id="newsletter1" type="text" class="form-control" placeholder="Correo electrónico">
              <button class="btn btn-primary" type="button">Enviar</button>
            </div>
          </form>
        </div>
      </div>

      <div class="d-flex flex-column flex-sm-row justify-content-between py-4 my-4 border-top">
        <p>© 2023 FiesTop. Todos los derechos reservados.</p>
        <ul class="list-unstyled d-flex">
          <li class="ms-3"><a class="link-body-emphasis" href="https://www.facebook.com/people/FiesTop/100092594490737/"
              alt="Plataforma oficial de FiesTop en Facebook">
              <i class="bi bi-facebook" style="font-size: 1.5rem;"></i></a></li>

          <li class="ms-3">
            <p>Tel. 449 123 4567</p>
          </li>
        </ul>
      </div>
    </footer>
  </div>


</body>

</html>